<!DOCTYPE html>
<html>

<head>
    <title>day 6</title>
</head>

<body>
    <div>
        <input type="text" name="search">
        <ul class="list">
            <li>no contries</li>
        </ul>
    </div>
    <script>
    const url = 'https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json';
    const cities = [];

    fetch(url)
        .then(response => response.json())
        .then(data => cities.push(...data));

    function aaa(rut, cities) {
        return cities.filter(citi => {
            const r = new RegExp(rut, 'gi');
            return citi.city.match(r);
        });
    }
 
    function display() {
        const view = aaa(this.value, cities);
        const html = view.map(vie => {
            return ` 
    		<li>${vie.city}</>`;
        }).join('');
        list.innerHTML = html;
    }

    const input = document.querySelector('[name="search"]');
    const list = document.querySelector('.list');
    input.addEventListener('input', display);
    </script>
</body>

</html>